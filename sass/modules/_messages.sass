// Case Conductor is a Test Case Management system.
// Copyright (C) 2011-2012 Mozilla
//
// This file is part of Case Conductor.
//
// Case Conductor is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// Case Conductor is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.
=message
  @extend .sans
  +full(12)
  +bold
  +text-shadow(rgba($base,$small) 0 1px 0)
  +border-radius($xxsmallem)
  +transition(background-color 300ms)
  position: relative
  padding: rhythm(1)
  color: $light
  background-color: rgba($base,$norm - $xxxsmall)
  a
    #{$link}
      color: $blue-light
    #{$focus}
      color: $red-lighter

.messagestyle
  +message
  p
    +prefix(2,12)
    position: relative
    margin: 0
    padding-right: rhythm(1.5)
    &::before
      +box-sizing('border-box')
      +border-radius
      +cond
      content: "info"
      position: absolute
      left: 0
      width: columns(2,12)
      padding-left: image-width('ui/info_circle_light.png') + $xsmallpx*2
      background: rgba($blue,$small) image-url('ui/info_circle_light.png') no-repeat scroll $xsmallpx
      text-transform: uppercase

.successmessage
  @extend .messagestyle
  p::before
    content: "success"
    background:
      color: rgba($green,$small)
      image: image-url('ui/check_light.png')

.errormessage
  @extend .messagestyle
  p::before
    content: "error"
    background:
      color: rgba($red,$small)
      image: image-url('ui/x_light.png')

.warningmessage
  @extend .messagestyle
  p::before
    content: "warning"
    background:
      color: rgba($yellow-dark,$small)
      image: image-url('ui/warning_light.png')

.message
  @extend .messagestyle
  &.success
    @extend .successmessage
  &.error
    @extend .errormessage
  &.warning
    @extend .warningmessage

  &:not(.noscript):hover
    cursor: pointer
    background: rgba(mix($red-dark,$base),$norm - $xxxsmall)
    p
      background: image-url('ui/x_light.png') no-repeat scroll right

#messages
  +no-style-list
  +box-shadow(rgba($light,$small) 0 0 $smallem, $base 0 0 $normem, $base 0 0 $largeem)
  position: fixed
  top: 0
  left: 15%
  right: 15%
  z-index: 9999
  li
    @extend .message
    &:first-child
      +border-top-radius(0)
